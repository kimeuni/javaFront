<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>homework.html</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <style>
        .colorCan {
            background-color: lightgray;
        }
    </style>
    <script>
        'use strict';
        let today = new Date();
        let year = today.getFullYear();
        let month = today.getMonth();
        let date = today.getDate();
        let arr = new Array;
        let cnt=1;
        
        $(function() {
            $('td').on('click',function() {
                let num = Number($(this).text());
                arr.push(num);
                if(arr.length <= 2){
                    // console.log(arr[0]);
                    // console.log(arr.length);
                    if($(this).hasClass('colorCan') == true){
                        $(this).removeClass('colorCan');
                    }
                    else {
                        console.log(num);
                        if(num < date){
                            alert("이전 날짜는 선택할 수 없습니다.")
                            arr.splice(this);
                        }
                        else{
                            $(this).addClass('colorCan');
                            if(arr.length == 2){
                                for(let i=arr[0]; i<arr[1]; i++){
                                    cnt++;
                                    $(`td:contains(${i})`).addClass('colorCan')
                                }
                            }
                        }
                    }
                }
                else{
                    alert("2개까지 선택가능합니다.")
                }
                $('#demo').html(`<p><font size = "5"><b>*** 예약 확인 ***</b></font></p>
                예약하신 총 일수는 <font color='red'><b>${cnt}</b></font>일 입니다.<br/>
                예약하신 날 : ${arr[0]}~${arr[1]}`)
            });
        })
        
    </script>
</head>
<body>
<p><br/></p>
<div class="container">
    <h2>예약할 날짜 기간을 선택하세요.</h2>
    <p>오늘 날짜 이전은 선택하실 수 없습니다.</p>
    <table class="table table-bordered text-center">
        <tr>
            <td class="tdCell">1</td>
            <td class="tdCell">2</td>
            <td class="tdCell">3</td>
            <td class="tdCell">4</td>
            <td class="tdCell">5</td>
        </tr>
        <tr>
            <td class="tdCell">6</td>
            <td class="tdCell">7</td>
            <td class="tdCell">8</td>
            <td class="tdCell">9</td>
            <td class="tdCell">10</td>
        </tr>
        <tr>
            <td class="tdCell">11</td>
            <td class="tdCell">12</td>
            <td class="tdCell">13</td>
            <td class="tdCell">14</td>
            <td class="tdCell">15</td>
        </tr>
        <tr>
            <td class="tdCell">16</td>
            <td class="tdCell">17</td>
            <td class="tdCell">18</td>
            <td class="tdCell">19</td>
            <td class="tdCell">20</td>
        </tr>
        <tr>
            <td class="tdCell">21</td>
            <td class="tdCell">22</td>
            <td class="tdCell">23</td>
            <td class="tdCell">24</td>
            <td class="tdCell">25</td>
        </tr>
        <tr>
            <td class="tdCell">26</td>
            <td class="tdCell">27</td>
            <td class="tdCell">28</td>
            <td class="tdCell">29</td>
            <td class="tdCell">30</td>
        </tr>
    </table>
    <hr/>
    <div id="demo"></div>
    <hr/>
    <button type="button" onclick="location.reload()">다시 선택</button>
</div>
</body>
</html>