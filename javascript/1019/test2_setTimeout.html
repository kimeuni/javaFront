<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test2_.html</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script>
        'use strict';
        
        let num = 0;
        let statusTime;

        function plus() {
            clearTimeout(statusTime);
            num++;
            // setTimeout(plus(),500)   //콜백 지옥..
            statusTime = setTimeout(plus,500)  // setTimeout(plus,500) 을 statusTime이 변수가 감시하도록... 만들었다.
            
            demo.innerHTML = num;
        }
        function minus() {
            clearTimeout(statusTime);
            if(num == 0){
                    alert("더이상 감소할 수 없습니다.")
                }
                else {
                num--;
                statusTime = setTimeout(minus,500) 
                demo.innerHTML = num;

            }
        }
        function stop() {
            clearTimeout(statusTime);
        }
    </script>
</head>
<body>
<p><br/></p>
<div class="container">
    <h2>setTimeout()을 이용한 시간제어</h2>
    <pre>
        setTimeout(호출함수(콜백함수), 지연시간)
        이 콜백함수는 지연시간이 경과된 후 실행된다.
        지연시간은 1/1000초이다.

        (비동식을 공부하기 제일 좋은게 setTimeout()이다.)
        (일반적으로 콜백 명령어만으로 사용할 때 주로 사용)
    </pre>
    <p>
        <input type="button" value="증가" onclick="plus()" class="btn btn-success"/>
        <input type="button" value="감소" onclick="minus()" class="btn btn-primary"/>
        <input type="button" value="정지" onclick="stop()" class="btn btn-danger"/>
    </p>
    <hr/>
    <div id="demo"></div>
</div>
</body>
</html>